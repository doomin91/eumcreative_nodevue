<template>
<div class="contents">

<div class="breadcrumb-container">
    <breadcrumb id="breadcrumb-container" />
</div>

    <div class="blockbase block-rounded">
        <div class="block-header">
          <h3 class="block-title">취약정책관리</h3>
        </div>

        <div class="block-content">
          <el-table :data="pagedTableData" style="width: 100%">
            <el-table-column label="#">
              <template slot-scope="scope">
                <span style="margin-left: 10px">{{ polices.length - scope.$index - ( page * pageSize ) + pageSize }}</span>
              </template>
            </el-table-column>
            <el-table-column label="취약심각도"></el-table-column>
            <el-table-column label="정책번호"></el-table-column>
            <el-table-column label="정책명"></el-table-column>
            <el-table-column label="출발지"></el-table-column>
            <el-table-column label="도착지"></el-table-column>
            <el-table-column label="서비스"></el-table-column>
            <el-table-column label="허용여부"></el-table-column>
          </el-table>


          <div class="pd10" align="right">
            <el-button type="primary" size="small">갱신</el-button>
          </div>

          <el-pagination class="mt-4" layout="prev, pager, next" :total="this.polices.length" @current-change="setPage" align="center">
          </el-pagination>

        </div>
    </div>

</div>
</template>

<script>
  import { makeDateForm } from '@/lib/common';
  import Breadcrumb from '../../components/Breadcrumb/index'

  export default {
    data() {
      return {
        polices: [],
        /* paging start */
        pageSize: 10,
        page: 1,
      }
    },
    components: {
      Breadcrumb
    },
    computed: {
     pagedTableData() {
       return this.polices.slice(this.pageSize * this.page - this.pageSize, this.pageSize * this.page)
     }
   },
    methods: {
      makeDateForm(date){
        return makeDateForm(date);
      },
      setPage (val) {
        this.page = val
      },
      getDataLoad() {
        this.polices = [];
      }
    },
    created() {
      this.getDataLoad();
    }

  }
</script>